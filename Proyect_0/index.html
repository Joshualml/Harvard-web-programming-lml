<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- #AÃ±adir metadatos mas tarde -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="./IMG/google_icon.ico" type="image/x-ico">
        
        <title>Google Search Clone lml</title>
        
        <link rel="stylesheet" href="./CSS/index.css"
    </head>
    <body>
        <header>
            <nav>
                <a href="./views/imageSource.html" class="images">Images</a>
                <a href="./views/advanceSearch.html" class="advanced">Advanced</a>
            </nav> 
        </header>
        
        <main>
            <img class="g-logo" src="./IMG/googlelogo.png" alt="Google logo">
            <form action="https://www.google.com/search">
                <div class="text-search">
                    <img class="glass" src="./IMG/searching-magnifying-glass_icon.png" alt="magnifying glass">
                    <input id="queryInput" class="text-input" type="text" name="q">
                </div>
                <div class="submit">
                    <input class="btn-search" type="submit" value="Google Search">
                    <button  onclick="LuckySearch(event)" class="btn-search">Im Feeling Lucky</button>
                </div>
            </form>     
        </main>
        <script>
            function LuckySearch (evt) {
                evt.preventDefault()
                bool = event.cancelable
                console.log(bool)
                let query = document.getElementById('queryInput').value;
    
        
                fetch(`https://www.googleapis.com/customsearch/v1?key=AIzaSyDz_ERIUYbA2sgiZZdxWdv5ipGppwNxdAg&cx=76b0c71d3f29a49e1&q=${query}&num=1`)
                .then(res => res.json())
                .then(data => {
                  const { items } = data
                  const { link } = items[0]
                  console.log(link)
                  window.location.href = link
                 })
            }
    
        </script>
        
    </body>
</html>